<?xml version="1.0" encoding="utf-8"?>
<ContentPage xmlns="http://xamarin.com/schemas/2014/forms"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:Controls="clr-namespace:Xchange.Controls"  
    xmlns:local="clr-namespace:Xchange"
    x:Class="Xchange.Pages.HomePage"
    BindingContext="{Binding Main.Home, Source={StaticResource Locator}}">
    
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="1*"/>
            <RowDefinition Height="1*"/>
        </Grid.RowDefinitions>

         <Grid Grid.Row="0"
            HorizontalOptions="Fill" 
            VerticalOptions="Fill"
            HeightRequest="135">

            <Image
                Aspect="AspectFill"
                HorizontalOptions="FillAndExpand"
                VerticalOptions="FillAndExpand"
                Source="background.png"/>

            <Image 
                HorizontalOptions="FillAndExpand" 
                Source="foreign_exchange.png" 
                Margin="0,30,0,10" 
                VerticalOptions="Start"/>

            <StackLayout VerticalOptions="Center">

                <Controls:BorderlessEntry BackgroundColor="Transparent"
                       FontAttributes="Bold"
                       FontSize="40"
                       HorizontalOptions="Center"
                       HorizontalTextAlignment="Center"
                       Keyboard="Numeric"
                       MaxLength="7"
                       Text="{Binding Amount, Mode=TwoWay}"
                       TextColor="White"
                       VerticalOptions="Center"
                       WidthRequest="300"/>

                <BoxView Color="White" 
                         HeightRequest="1" 
                         HorizontalOptions="Center"
                         Margin="0,10"
                         WidthRequest="200"/>

                <StackLayout HorizontalOptions="Center"
                             Orientation="Horizontal"
                             VerticalOptions="Center">
                
                    <Image Source="convert.png" 
                           HorizontalOptions="Center" 
                           VerticalOptions="Center"/>

                    <Picker BackgroundColor="Transparent"
                            HorizontalOptions="Center"
                            ItemDisplayBinding="{Binding currencyName}"
                            ItemsSource="{Binding RatesList}"
                            SelectedItem="{Binding SourceRate}"
                            VerticalOptions="Center"/>

                    <Button Command="{Binding ConvertCommand}"
                            TextColor="White"/>

                </StackLayout>
            </StackLayout>
        </Grid>

        <StackLayout Grid.Row="1" 
                     HorizontalOptions="Center"
                     VerticalOptions="Center">

            <StackLayout VerticalOptions="Center">

                <Label BackgroundColor="Transparent"
                       FontAttributes="Bold"
                       FontSize="40"
                       HorizontalOptions="Center"
                       HorizontalTextAlignment="Center"
                       Text="{Binding Result,Mode=TwoWay}"
                       TextColor="#A3285A"
                       VerticalOptions="Center"
                       WidthRequest="300"/>

                <BoxView Color="#DEB7C8" 
                         HeightRequest="1" 
                         HorizontalOptions="Center"
                         Margin="0,10"
                         WidthRequest="200"/>

                <StackLayout HorizontalOptions="Center"
                             Orientation="Horizontal"
                             VerticalOptions="Center">
                
                    <Image Source="convert_red.png" 
                           HorizontalOptions="Center" 
                           VerticalOptions="Center"/>

                    <Picker HorizontalOptions="Center"
                            ItemDisplayBinding="{Binding currencyName}"
                            ItemsSource="{Binding RatesList}"
                            SelectedItem="{Binding TargetRate}"
                            TextColor="#A3285A"
                            VerticalOptions="Center"/>
                    
                    <Button Text="go"
                            Command="{Binding ConvertCommand}"
                            HorizontalOptions="Center"
                            VerticalOptions="Center"/>

                </StackLayout>
            </StackLayout>
        </StackLayout>
    </Grid>
</ContentPage>